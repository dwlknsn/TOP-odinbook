<div id="<%= dom_id profile %>" class="flex gap card bg-main">

  <div class="border p-2 bg-shade rounded-full">
    <%= image_tag(avatar_url(profile.user), alt: "Avatar for #{profile.display_name}",
          size: "100", class: "avatar rounded-full object-cover") %>
  </div>

  <div class="flex flex-col gap grow pi-4">
    <div class="">
      <%= profile.display_name %>
    </div>
    <div class="">
      @<%= profile.username %>
    </div>
    <% if current_user == profile.user %>
      <div class="">
        <%= profile.user.email %>
      </div>
    <% end %>
  </div>

  <div class="flex flex-col gap">
    <% if action_name != "show" %>
      <div class="flex">
        <%= link_to "Go to profile", user_path(profile.user), class: "btn btn--secondary grow" %>
      </div>
    <% end %>

    <% if profile.user.followers.include?(current_user) %>
      <div class="flex">
        <%= link_to "Unfollow", user_unfollow_path(profile.user), method: :delete, data: { turbo_method: :delete }, class: "btn btn--negative grow" %>
      </div>
    <% else %>
      <% if current_user != profile.user %>
        <div class="flex">
          <%= link_to "Follow", user_follow_path(profile.user), data: { turbo_method: :post }, class: "btn btn--positive grow" %>
        </div>
      <% else %>
        <div class="flex">
          <%= link_to "Edit Profile", edit_profile_path(profile), class: "btn btn--positive grow" %>
        </div>
      <% end %>
    <% end %>
  </div>

</div>
