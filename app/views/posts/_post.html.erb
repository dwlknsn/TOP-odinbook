<div id="<%= dom_id post %>" class="card prose bg-main flex">
  <div class="flex flex-col gap">
    <div class="avatar border p-2 bg-shade",  style="--avatar-size: 100px;">
      <%= image_tag(avatar_url_for(post.author), alt: "Avatar", class: "avatar rounded-full object-cover") %>
    </div>
    <div class="text-xs text-center text-subtle">
      <%= time_ago_in_words(post.created_at) %> ago
    </div>
  </div>
  <div class="flex flex-col gap mis-8 pis-8 border-is border-dark">
    <h3 class="mb">
      <%= post.title %>
    </h3>
    <div>
      <%= post.body %>
    </div>
    <div class="text-end text-subtle text-sm">
      <em>- <%= post.author.display_name %> (@<%= post.author.username %> )</em>
    </div>
    <div id="actions" class="flex gap justify-end">
      <% if current_user.id == @post.author_id %>
        <div>
          <%= link_to "Edit this post", edit_post_path(@post), class: "btn btn--secondary"  %>
        </div>
        <div>
          <%= link_to "Destroy this post", @post, data: { turbo_method: :delete }, class: "btn btn--negative"  %>
        </div>
      <% else %>
        <div>
          <% if @like.present? %>
            <%= link_to("Remove Like", post_like_path(post, @like), class: "btn btn--secondary",
                  data: { turbo_method: :delete }) %>
          <% else %>
            <%= link_to("Like", post_likes_path(post), class: "btn btn--secondary",
                  data: { turbo_method: :post }) %>
          <% end %>
        </div>
      <% end %>
    </div>
  </div>
</div>
